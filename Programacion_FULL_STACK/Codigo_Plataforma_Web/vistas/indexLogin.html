<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="icon" href="" type="/EMPRESA%20SKILLFORGE/recursos/img/logoskillforgeoscuro.ico">
    <link rel="shortcut icon" href="/EMPRESA%20SKILLFORGE/recursos/img/logoskillforgeoscuro.ico" type="image/x-icon">
    <title>SkillForge</title>
</head>
<body>

  <fieldset>
  <legend>Iniciar Sesión</legend>
      <form action="/EMPRESA%20SKILLFORGE/controladores/controllerUsuario.php" method="post">
          <input type="hidden" name="accion" value="loginUsuario">
          <label for="emailUsuario">Email</label><br>
          <input type="text" name="emailUsuario" id="emailUsuario" required><br><br>
          <label for="contraseniaUsuario"><legend>Contraseña</legend></label>
          <input type="password" id="logcontraseniaUsuario" name="contraseniaUsuario" minlength="8" maxlength="16" required>
          <button type="button" class="password" data-target="logcontraseniaUsuario"><i class="fa fa-eye-slash"></i></button><br><br>
          <input type="submit" value="Iniciar Sesión">
      </form>
  </fieldset>

  <fieldset> 
    <legend>Registrar Usuario</legend>
    <form id="formRegistro" action="/EMPRESA%20SKILLFORGE/controladores/controllerUsuario.php" method="post">
        <input type="hidden" name="accion" value="registrarUsuario">
        <label for="nombreUsuario"><legend>Nombre Completo</legend></label>
        <input type="text" id="nombreUsuario" name="nombreUsuario" placeholder="Nombre Apellido" required><br><br>
        <label for="emailUsuario"><legend>Email</legend></label>

        <input type="text" id="emailUsuario" name="emailUsuario" placeholder="tucorreo@ejemplo.com" required><br><br>
        <label for="contraseniaUsuario"><legend>Contraseña</legend></label>
        <input type="password" title="Las contraseñas deben coincidir" id="regcontraseniaUsuario" name="contraseniaUsuario" placeholder="Mínimo 8 caracteres" minlength="8" maxlength="16" required>
        <button type="button" class="password" data-target="regcontraseniaUsuario"><i class="fa fa-eye-slash"></i></button><br><br>
        <label for="vfcontraseniaUsuario"><legend>Verificar Contraseña</legend></label>
        <input type="password" id="regvfcontraseniaUsuario" name="vfcontraseniaUsuario" placeholder="Repetir contraseña" minlength="8" maxlength="16" required>
        <button type="button" class="password" data-target="regvfcontraseniaUsuario"><i class="fa fa-eye-slash"></i></button><br><br>
        <label for="direccionUsuario"><legend>Dirección</legend></label>
        <input type="text" id="direccionUsuario" name="direccionUsuario" placeholder="Av. Calle 1234" required><br><br>
        <label for="codPostalUsuario"><legend>Código Postal</legend></label>
        <input type="text" id="codPostalUsuario" name="codPostalUsuario" placeholder="00000" pattern="\d{5}" maxlength="5" required><br><br>
        <label for="telefonoUsuario"><legend>Teléfono</legend></label>
        <input type="text" id="telefonoUsuario" name="telefonoUsuario" placeholder="09#######" pattern="09\d{7}" maxlength="9" required><br><br>
        <label for="tipoUsuario"><legend>Tipo de Usuario</legend></label>
        <select name="tipoUsuario" id="tipoUsuario" required>
            <option value="">--Seleccione una opción--</option>
            <option value="cliente">Cliente</option>
            <option value="proveedor">Proveedor</option>
        </select><br><br>
        <input type="submit" value="CREAR CUENTA">
    </form>
  
  </fieldset>
</body>

<script>
  $(document).ready(function () {
    $('.password').click(function () {
      const inputId = $(this).data('target');
      const input = $('#' + inputId);
      const icon = $(this).find('i');
      if (input.attr('type') === 'password') {
        input.attr('type', 'text');
        icon.removeClass('fa-eye-slash').addClass('fa-eye');
      } else {
        input.attr('type', 'password');
        icon.removeClass('fa-eye').addClass('fa-eye-slash');
      }
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("formRegistro");
    const pass1 = document.getElementById("contraseniaUsuario");
    const pass2 = document.getElementById("vfcontraseniaUsuario");
    pass2.addEventListener("input", function () {
      if (pass1.value !== pass2.value) {
        pass2.setCustomValidity("Las contraseñas no coinciden.");
      } else {
        pass2.setCustomValidity("");
      }
    });

    form.addEventListener("submit", function (e) {
      if (pass1.value !== pass2.value) {
        pass2.setCustomValidity("Las contraseñas no coinciden.");
        pass2.reportValidity();
        e.preventDefault();
      } else {
        pass2.setCustomValidity("");
      }
    });
  });
</script>

</html>